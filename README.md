# Magic语法(旧)

## 简介

Magic语言设计初衷为面向用户的第三方操作语言，设计原则为让用户对于语法的学习成本降低，语言的使用渐变，致力于为第三方语义元素的构建提供便利，所有语法中的功能都基于函数方法。

Magic语言中，任何符合语法的字符串列表都可直接被Magic解释器解释。

Magic中，所有人都应学会自食恶果，不要把错误与学习的成本加到解释器的臃肿体积上，一切非语法功能的错误都不会被解决和容忍。

## 语言构成

### 魔咒

> Magic以魔咒为执行单位，一个魔咒中包括魔语和魔咒上下文，通常，魔咒的执行为将魔语按顺序依次解释执行，具体执行顺序可能会被魔语的执行影响。

### 魔咒上下文

> 其中存储魔咒执行时产生的过程性数据、对象字典、变量字典，在魔咒执行中，任何语义元素的执行都可以访问魔咒上下文。

### 魔语

> 魔语由多个语义元素组成，魔语通常在魔咒中以魔语队列的形式存在，魔语执行时可以访问魔法上下文，多条魔语通过魔咒上下文互相影响。

### 语义元素

> 语义元素可以说是语义方法，可简称方法。

#### 形式

```
语义元素1(参数域) 语义元素2(参数域) 语义元素3(参数域) ...
```

> 其中语义元素1、语义元素2、语义元素3书写在语句的最外层，也就是**执行域**

#### 分类

##### 目标(Target)

> 目标方法只能出现在执行域
>
> **在执行域中**，目标方法通常是将环境中某个对象或值命名后存入上下文，在之后的方法执行时，可以通过目标名使用。

##### 行为(Behavior)

> 除非特殊说明，行为方法只能出现在执行域中，行为代表要做的动作，通常需要在参数域中指出动作的执行者和被执行者。

##### 约束(Constraint)

> 约束方法只能出现在执行域，用于判断一条魔语的执行是否被允许。

##### 计算(Calculate)

> 计算方法只能出现在参数域用于多目标运算。

#### 流程

约束 -> 目标 -> 行为 

